<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.450">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2023-02-28">

<title>Luke Talman - Asset Classes</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

<script src="site_libs/kePrint-0.0.1/kePrint.js"></script>
<link href="site_libs/lightable-0.0.1/lightable.css" rel="stylesheet">


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Luke Talman</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./usdcad_uso.html" rel="" target="">
 <span class="menu-text">USD/CAD USO Quant Model</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./RBOB.html" rel="" target="">
 <span class="menu-text">RBOB Trading</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./AssetClasses.html" rel="" target="" aria-current="page">
 <span class="menu-text">Asset Classes</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#returns-by-asset-class" id="toc-returns-by-asset-class" class="nav-link active" data-scroll-target="#returns-by-asset-class">Returns by Asset Class</a>
  <ul class="collapse">
  <li><a href="#summary-of-analysis" id="toc-summary-of-analysis" class="nav-link" data-scroll-target="#summary-of-analysis">Summary of Analysis</a>
  <ul class="collapse">
  <li><a href="#analysis-window-20140101---20230131" id="toc-analysis-window-20140101---20230131" class="nav-link" data-scroll-target="#analysis-window-20140101---20230131">Analysis Window: 2014/01/01 - 2023/01/31</a></li>
  </ul></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Asset Classes</h1>
</div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">February 28, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<section id="returns-by-asset-class" class="level1">
<h1>Returns by Asset Class</h1>
<section id="summary-of-analysis" class="level2">
<h2 class="anchored" data-anchor-id="summary-of-analysis">Summary of Analysis</h2>
<p>Following is a summary of the analysis on select asset class returns on the NYSE and NASDAQ, the two largest stock exchanges globally. Representing returns for each asset class is a specific Exchange Traded Fund (ETF) that allows investors to gain exposure to various asset prices without physically possessing underlying asset.</p>
<ul>
<li>Analysed asset classes: Gold via the SPDR Gold Trust (Ticker: GLD), US equities via the SPDR S&amp;P 500 ETF Trust (Ticker: SPY), Energy Liquids via the United States Oil ETF (Ticker: USO), US Long Term bonds via the iShares 20+ Year Treasury Bond ETF (Ticker: TLT), and Real Estate via the Vanguard Real Estate Index Fund (Ticker: VNQ).</li>
</ul>
<section id="analysis-window-20140101---20230131" class="level3">
<h3 class="anchored" data-anchor-id="analysis-window-20140101---20230131">Analysis Window: 2014/01/01 - 2023/01/31</h3>
<ul>
<li><p>All included asset classes had negatively skewed logarithmic returns.</p>
<ul>
<li><p>Extreme negative returns were more frequently observed than extreme positive returns across all asset classes.</p></li>
<li><p>Real Estate had the largest negative skew.</p></li>
</ul></li>
<li><p>US equities generated the highest mean daily return, and Energy Liquids generated the lowest, with daily average returns of 0.0416% and -0.0609%, respectively.</p></li>
<li><p>Gold returns had the lowest volatility of the compared asset classes, and Energy Liquids had the highest.</p></li>
<li><p>US equities and Real Estate prices had the strongest positive correlation, with a correlation coefficient of 0.44.</p>
<ul>
<li>US Equities and Real Estate prices tended to move in the same direction, whether that be positive or negative.</li>
</ul></li>
<li><p>Energy Liquid and Gold prices were positively correlated at an abnormally high level in 2022.</p>
<ul>
<li>Possibly related to high inflation in 2022 that was in part driven by high energy prices.</li>
</ul></li>
<li><p>Asset returns were not normally distributed.</p>
<ul>
<li>Returns were not symmetric about the mean, and differed from a bell curve distribution.</li>
</ul></li>
</ul>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="AssetClasses_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" style="width:50.0%"></p>
</div>
<div class="cell-output-display">
<p><img src="AssetClasses_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" style="width:50.0%"></p>
</div>
</div>
<p><br></p>
<p>Together, these histograms provide a visual representation of the distribution of returns for the asset classes within the analysis. This distribution provides insights as to how frequent and extreme outlier (or anomalous) returns are within each asset class.</p>
<p><br></p>
<p>Energy Liquids had comparatively large outlier returns, suggesting that a risk-averse individual would prefer to invest in other asset classes with less extreme outliers, such as US Long Term bonds or Gold. Investing in asset classes that are historically less prone to large movements, both individually or with the market as a whole, reduces the risk of extreme portfolio losses.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-material lightable-striped lightable-hover table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Ticker</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Std.Dev</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Skewness</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Kurtosis</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">GLD</td>
<td style="text-align: left;">0.018186%</td>
<td style="text-align: left;">0.892986%</td>
<td style="text-align: right;">-0.1063539</td>
<td style="text-align: right;">6.041964</td>
</tr>
<tr class="even">
<td style="text-align: left;">SPY</td>
<td style="text-align: left;">0.041575%</td>
<td style="text-align: left;">1.134011%</td>
<td style="text-align: right;">-0.8134746</td>
<td style="text-align: right;">16.898902</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TLT</td>
<td style="text-align: left;">0.010795%</td>
<td style="text-align: left;">0.924014%</td>
<td style="text-align: right;">-0.0014229</td>
<td style="text-align: right;">8.772180</td>
</tr>
<tr class="even">
<td style="text-align: left;">USO</td>
<td style="text-align: left;">-0.060927%</td>
<td style="text-align: left;">2.561366%</td>
<td style="text-align: right;">-1.5977531</td>
<td style="text-align: right;">21.700870</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VNQ</td>
<td style="text-align: left;">0.029684%</td>
<td style="text-align: left;">1.309078%</td>
<td style="text-align: right;">-1.8093719</td>
<td style="text-align: right;">32.620988</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><br></p>
<p>Complementing the above visualizations, these table provide numeric representations as to the frequency (kurtosis) and general direction (skewness) of outlier returns within each asset class. A large kurtosis value indicates that the asset class had more extreme returns, and the skewness value indicates the general direction of these extreme returns (positive or negative). Real Estate had the largest kurtosis and negative skew of the compared assets, and with Energy Liquids generating the second largest statistic in both.</p>
<p><br></p>
<p>Also included in the table is the mean daily return across the analysis, as well as the standard deviation of returns. These both provide a long term view on asset performance, with mean highlighting average returns, and standard deviation highlighting the relative volatility of each asset class. Gold returns had the lowest volatility within the analysis, and Energy Liquids had the largest. These observed statistics are in keeping with the past underlying price trends of either asset, with energy revenues traditionally being more cyclical and subject to prevailing oil prices, and gold representing an asset that reduces investors exposure to market cycles.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="AssetClasses_files/figure-html/unnamed-chunk-4-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
<p>This correlation matrix provides correlation coefficients for the asset classes within the analysis, indicating the strength and direction of the linear relationship between each asset class. A correlation of +1 describes a perfect positive relationship, where the increase in one asset price has exact proportional increase in the other asset price.</p>
<p><br></p>
<p>These correlations can be used to inform investment decisions such as an investor wanting to diversify a large position or speculate on the decline of specific asset class. The -0.18 correlation between US securities and Long Term US bonds highlighted the ability for fixed income securities to offset price movements in the equity market, explaining why some fund manager maintain a specific percent exposure to either asset class. Another notable takeaway is the relatively high correlation of 0.44 between Real Estate and US equities, given that many retail investors largest exposure is Real Estate via home ownership, but yet they continue to primarily invest in equities. This behavior means that some retail investors would see larger diversification benefits if they invested in other asset classes.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<p><img src="AssetClasses_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p><br></p>
<p>As highlighted by the correlation coefficient of 0.05 in the matrix and overall unpredictability across the analysis window, Energy Liquids and Gold prices typically don’t have a strong consistent correlation, positive or negative. Interestingly, this trend seems to have changed in 2022, with Energy Liquids and Gold appearing to show a strong positive correlation over the rolling windows. A possible explanation for this recent change is the high inflation observed in 2022 that was partially driven by high energy prices. These high energy prices increased the revenues for many energy producers, while simultaneously, investors ‘fled’ to gold as an asset reduce exposure to inflation.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-material lightable-striped lightable-hover table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Ticker</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">P.Value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Method</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">GLD</td>
<td style="text-align: right;">884.9348</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Jarque Bera Test</td>
</tr>
<tr class="even">
<td style="text-align: left;">SPY</td>
<td style="text-align: right;">18636.1502</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Jarque Bera Test</td>
</tr>
<tr class="odd">
<td style="text-align: left;">TLT</td>
<td style="text-align: right;">3170.7696</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Jarque Bera Test</td>
</tr>
<tr class="even">
<td style="text-align: left;">USO</td>
<td style="text-align: right;">34253.6999</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Jarque Bera Test</td>
</tr>
<tr class="odd">
<td style="text-align: left;">VNQ</td>
<td style="text-align: right;">84745.7471</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Jarque Bera Test</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><br></p>
<p>The Jarque Bera Test measures whether sample data has skewness and kurtosis matching that of a normal distribution. Unsurprisingly, given the negative skewness and large kurtosis, none of the analysed asset returns matched a normal distribution in the test. This has implications for the discussed increased probability of extreme price changes, as well as the reduced practical effectiveness of certain asset pricing models that assume logarithmic asset returns are normally distributed.</p>
<p><br></p>
<div class="cell">
<div class="cell-output-display">
<table class="lightable-material table table-sm table-striped small" data-quarto-postprocess="true">
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Ticker</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">Statistic</th>
<th style="text-align: right;" data-quarto-table-cell-role="th">P.Value</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Method</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Alternative</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">SPY</td>
<td style="text-align: right;">0.4820143</td>
<td style="text-align: right;">0</td>
<td style="text-align: left;">Asymptotic one-sample Kolmogorov-Smirnov Test</td>
<td style="text-align: left;">two-sided</td>
</tr>
</tbody>
</table>


</div>
</div>
<p><br></p>
<p>Complementing the Jarque Bera Test, the Kolmogorov-Smirnov Test measures the probability of whether or not a sample (in this case, US equities) has normally distributed returns. The test failed to find a significant statistic, meaning that equity returns were not normally distributed in the analysis window. Again, this has implications for pricing models that assume logarithmic equity returns are normally distributed.</p>


</section>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>